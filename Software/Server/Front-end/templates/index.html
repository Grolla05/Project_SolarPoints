{% extends "layout.html" %}
{% block body %}

<!-- Hero Section with Map -->
<div class="mb-12">
  <div class="text-center mb-8">
    <div class="inline-flex items-center space-x-3 mb-4">
      <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center animate-pulse">
        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"/>
        </svg>
      </div>
      <h2 class="text-3xl font-bold text-white">Localizações dos Dispositivos</h2>
    </div>
    <p class="text-white/70 text-lg max-w-2xl mx-auto">
      Acompanhe em tempo real a localização e status de todos os dispositivos Solar Points instalados
    </p>
  </div>

  <!-- Filter Section -->
  <div class="mb-8 max-w-4xl mx-auto">
    <div class="bg-slate-800/70 backdrop-blur-sm rounded-xl p-5 border border-white/10">
      <div class="flex flex-col md:flex-row items-center md:justify-between gap-4">
        
        <div class="flex flex-wrap items-center justify-center gap-x-4 gap-y-3">
          
          <div class="flex items-center space-x-3 text-white border-r border-slate-600 pr-4">
            <svg class="w-6 h-6 text-cyan-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962A3 3 0 0115 9.75V9A6 6 0 009 3m-3 9A3 3 0 013 9.75V9a6 6 0 016-6v2.25a3 3 0 01-3 3v2.25z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M12.75 12.75A3 3 0 0115 15v2.25a3 3 0 01-3 3h-1.5a3 3 0 01-3-3v-2.25a3 3 0 01.75-2.062M12.75 12.75h-1.5a3 3 0 00-3 3v2.25a3 3 0 003 3h1.5a3 3 0 003-3v-2.25a3 3 0 00-.75-2.062" />
            </svg>
            <h3 class="text-lg font-semibold whitespace-nowrap">Filtrar por Fluxo</h3>
          </div>
          
          <div class="flex items-center space-x-2">
            <label for="minFlow" class="text-slate-400 font-medium">De:</label>
            <input 
              type="number" 
              id="minFlow" 
              name="minFlow" 
              min="0"
              placeholder="Mín."
              class="bg-slate-900/50 text-white border border-slate-700 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-cyan-500 focus:outline-none w-24"
            >
          </div>
          <div class="flex items-center space-x-2">
            <label for="maxFlow" class="text-slate-400 font-medium">Até:</label>
            <input 
              type="number" 
              id="maxFlow" 
              name="maxFlow" 
              min="0"
              placeholder="Máx."
              class="bg-slate-900/50 text-white border border-slate-700 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-cyan-500 focus:outline-none w-24"
            >
          </div>
        </div>
        
        <div class="flex items-center space-x-3">
          <button id="restoreFilterBtn" class="bg-slate-700/80 hover:bg-slate-600/80 text-white font-bold py-2 px-5 rounded-lg transition-colors duration-200">
            Restaurar
          </button>
          <button id="applyFilterBtn" class="bg-gradient-to-r from-cyan-500 to-green-500 hover:opacity-90 text-white font-bold py-2 px-5 rounded-lg transition-opacity duration-200 flex items-center space-x-2">
            <span>Aplicar</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </button>
        </div>
        <div class="border-t border-slate-700/50 dark:border-slate-700 mt-4 pt-4 flex flex-wrap items-center justify-center gap-3">
          <span class="text-slate-400 font-medium text-sm mr-2">Filtros Rápidos:</span>
          <button data-min="0" data-max="250" class="quick-filter-btn bg-sky-800/70 hover:bg-sky-700/90 text-sky-300 text-sm font-semibold py-1 px-3 rounded-full transition-colors">
              Fluxo Baixo (0-250)
          </button>
          <button data-min="251" data-max="1000" class="quick-filter-btn bg-amber-800/70 hover:bg-amber-700/90 text-amber-300 text-sm font-semibold py-1 px-3 rounded-full transition-colors">
              Fluxo Médio (251-1000)
          </button>
          <button data-min="1001" data-max="" class="quick-filter-btn bg-red-800/70 hover:bg-red-700/90 text-red-300 text-sm font-semibold py-1 px-3 rounded-full transition-colors">
              Fluxo Alto (+1000)
          </button>
        </div>
      </div>
    </div>
  </div>

  <div id="map-view-selector" class="mb-4 flex justify-center items-center space-x-2 bg-slate-800/70 p-1.5 rounded-full max-w-xs mx-auto">
    <button id="view-markers-btn" class="view-btn active-view-btn w-full text-white font-semibold py-2 px-4 rounded-full transition-colors duration-300">
      Marcadores
    </button>
    <button disabled id="view-heatmap-btn" class="view-btn w-full text-slate-400 font-semibold py-2 px-4 rounded-full transition-colors duration-300">
      Mapa de Calor
    </button>
  </div>

  <!-- Map Container with Modern Styling -->
  <div class="relative group">
    <div class="absolute inset-0 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-2xl blur-lg group-hover:blur-xl transition-all duration-300"></div>
    <div class="relative bg-white/10 backdrop-blur-sm border border-white/20 rounded-2xl overflow-hidden shadow-2xl">
      <div class="bg-gradient-to-r from-blue-600 to-green-600 p-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-3">
            <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center">
              <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            </div>
            <span class="text-white font-semibold">Mapa Interativo</span>
          </div>
          <div class="flex items-center space-x-2">
            <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
            <span class="text-white/80 text-sm">Online</span>
          </div>
        </div>
      </div>
      <div id="map" class="h-96"></div>
    </div>
  </div>
</div>

<div class="space-y-8">
  </div>
<style>
  .active-view-btn {
      background-color: #0ea5e9; /* Cor sky-500 do Tailwind */
      color: white !important;
  }
</style>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.1/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.1/dist/MarkerCluster.Default.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster@1.5.1/dist/leaflet.markercluster.js"></script>
<script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>

<script src="{{ url_for('static', filename='Maps_API.js') }}"></script>
<script src="{{ url_for('static', filename='Filtro.js') }}"></script>

<script>
    const locations = {{ items | tojson }};
    console.log("Dados que chegaram ao front-end para o mapa:", locations);
    loadMap(locations);
</script>

<!-- Technical Documentation Section -->
<div class="space-y-8">
  <!-- Main Title -->
  <div class="text-center mb-12">
    <div class="inline-flex items-center space-x-3 mb-4">
      <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center">
        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
          <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
        </svg>
      </div>
      <h1 class="text-4xl font-bold text-gradient">O Sistema IoT: Do Hardware ao Banco de Dados</h1>
    </div>
    <p class="text-white/80 text-lg max-w-4xl mx-auto">
      O sistema que você construiu é uma solução completa de IoT (Internet das Coisas) que opera em uma sequência lógica, 
      conectando hardware, software e persistência de dados.
    </p>
  </div>

  <!-- System Architecture Cards -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
    
    <!-- Card 1: Hardware Layer -->
    <div class="glass-effect rounded-3xl p-8 hover:scale-105 transition-all duration-300 group border border-white/10">
      <div class="flex items-center space-x-4 mb-6">
        <div class="w-14 h-14 bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl flex items-center justify-center group-hover:rotate-6 transition-transform duration-300">
          <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/>
          </svg>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-white mb-1">1. A Camada de Hardware</h2>
          <p class="text-orange-400 font-medium">(O ESP32)</p>
        </div>
      </div>
      <p class="text-white/80 mb-6">
        O <strong class="text-orange-400">ESP32</strong> é o "cérebro" do sistema e a fonte dos dados. 
        Ele é o microcontrolador responsável por:
      </p>
      <div class="space-y-4">
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Coletar Dados:</strong>
            <span class="text-white/70"> Através de um sensor de GPS conectado, ele obtém as coordenadas geográficas precisas de </span>
            <strong class="text-blue-400">latitude</strong> <span class="text-white/70">e</span> <strong class="text-blue-400">longitude</strong><span class="text-white/70">.</span>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Gerar Dados:</strong>
            <span class="text-white/70"> Ele gera ou lê o valor do </span>
            <strong class="text-purple-400">Dado1</strong><span class="text-white/70">, que é um número inteiro.</span>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Formatar o Envio:</strong>
            <span class="text-white/70"> Ele empacota todas essas informações (Dado1, latitude, longitude) em um objeto </span>
            <strong class="text-yellow-400">JSON</strong><span class="text-white/70">, que é o formato padrão para comunicação via web.</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Card 2: Communication Layer -->
    <div class="glass-effect rounded-3xl p-8 hover:scale-105 transition-all duration-300 group border border-white/10">
      <div class="flex items-center space-x-4 mb-6">
        <div class="w-14 h-14 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl flex items-center justify-center group-hover:rotate-6 transition-transform duration-300">
          <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
          </svg>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-white mb-1">2. A Camada de Comunicação</h2>
          <p class="text-cyan-400 font-medium">(A API)</p>
        </div>
      </div>
      <p class="text-white/80 mb-6">
        A comunicação entre o hardware e o software é feita via <strong class="text-cyan-400">Wi-Fi</strong> 
        usando o protocolo <strong class="text-cyan-400">HTTP</strong>.
      </p>
      <div class="space-y-4">
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Requisição HTTP POST:</strong>
            <span class="text-white/70"> O ESP32 atua como um "cliente" que faz uma requisição do tipo </span>
            <strong class="text-green-400">POST</strong> <span class="text-white/70">para o seu servidor.</span>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Rota da API:</strong>
            <span class="text-white/70"> O endereço de destino para o envio de dados é a rota específica que você definiu no seu servidor: </span>
            <code class="bg-gray-800/50 text-yellow-400 px-2 py-1 rounded text-sm">http://&lt;seu_ip&gt;:3000/Back-end</code>
          </div>
        </div>
      </div>
    </div>

    <!-- Card 3: Software Layer -->
    <div class="glass-effect rounded-3xl p-8 hover:scale-105 transition-all duration-300 group border border-white/10">
      <div class="flex items-center space-x-4 mb-6">
        <div class="w-14 h-14 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center group-hover:rotate-6 transition-transform duration-300">
          <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z"/>
          </svg>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-white mb-1">3. A Camada de Software</h2>
          <p class="text-emerald-400 font-medium">(O Servidor Python/Flask)</p>
        </div>
      </div>
      <p class="text-white/80 mb-6">
        O seu código Python com <strong class="text-emerald-400">Flask</strong> é o "servidor" que 
        fica aguardando as requisições do ESP32.
      </p>
      <div class="space-y-4">
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Recebimento:</strong>
            <span class="text-white/70"> Quando uma requisição POST chega na rota </span>
            <code class="bg-gray-800/50 text-cyan-400 px-2 py-1 rounded text-sm">/Back-end</code>
            <span class="text-white/70">, a função </span>
            <code class="bg-gray-800/50 text-emerald-400 px-2 py-1 rounded text-sm">receber_dados()</code>
            <span class="text-white/70"> é ativada.</span>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Processamento:</strong>
            <span class="text-white/70"> O servidor lê o corpo da requisição e extrai os dados do JSON. Ele valida se as chaves (Dado1, localizacao, etc.) e os tipos de dados estão corretos.</span>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Persistência:</strong>
            <span class="text-white/70"> Após o processamento, o servidor chama a função </span>
            <code class="bg-gray-800/50 text-purple-400 px-2 py-1 rounded text-sm">salvar_dados()</code>
            <span class="text-white/70"> para armazenar as informações de forma permanente.</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Card 4: Database Layer -->
    <div class="glass-effect rounded-3xl p-8 hover:scale-105 transition-all duration-300 group border border-white/10">
      <div class="flex items-center space-x-4 mb-6">
        <div class="w-14 h-14 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center group-hover:rotate-6 transition-transform duration-300">
          <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
            <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
          </svg>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-white mb-1">4. A Camada de Persistência</h2>
          <p class="text-pink-400 font-medium">(O Banco de Dados em nuvem (PostgreSQL))</p>
        </div>
      </div>
      <p class="text-white/80 mb-6">
        O <strong class="text-pink-400">PostgreSQL</strong> é a camada final, responsável por guardar
        o histórico de todos os dados recebidos.
      </p>
      <div class="space-y-4">
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Arquivo neon.db:</strong>
            <span class="text-white/70"> O arquivo neon.db foi armazenado em nuvem através da Neon (PostgreSQL).</span>
            <span class="text-white/70"> No qual se baseia em um serviço gratuito de banco de dados em nuvem.</span>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Tabela dados_esp32:</strong>
            <span class="text-white/70"> A função </span>
            <code class="bg-gray-800/50 text-blue-400 px-2 py-1 rounded text-sm">setup_database()</code>
            <span class="text-white/70"> garante que uma tabela chamada </span>
            <code class="bg-gray-800/50 text-pink-400 px-2 py-1 rounded text-sm">dados_esp32</code>
            <span class="text-white/70"> seja criada, com colunas prontas para receber cada valor do JSON (incluindo o </span>
            <code class="bg-gray-800/50 text-green-400 px-2 py-1 rounded text-sm">timestamp</code>
            <span class="text-white/70"> para saber quando cada dado chegou).</span>
          </div>
        </div>
        <div class="flex items-start space-x-3">
          <div class="w-6 h-6 bg-green-500/20 rounded-full flex items-center justify-center mt-0.5">
            <svg class="w-3 h-3 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7-293a1 1 0 011.414 0z"/>
            </svg>
          </div>
          <div>
            <strong class="text-white">Registro:</strong>
            <span class="text-white/70"> A cada novo envio do ESP32, uma nova linha é inserida nessa tabela, criando um registro completo e persistente de todas as informações.</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Summary Section -->
  <div class="mt-12">
    <div class="glass-effect rounded-3xl p-8 border border-white/10 text-center">
      <div class="inline-flex items-center space-x-3 mb-6">
        <div class="w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center">
          <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/>
          </svg>
        </div>
        <h3 class="text-2xl font-bold text-gradient">Em resumo</h3>
      </div>
      <div class="max-w-4xl mx-auto text-white/80 text-lg leading-relaxed">
        <p class="mb-4">
          O <strong class="text-orange-400">ESP32</strong> coleta os dados, os empacota em um 
          <strong class="text-yellow-400">JSON</strong>, e os envia via <strong class="text-cyan-400">Wi-Fi</strong>. 
          O servidor <strong class="text-emerald-400">Flask</strong> recebe e processa o 
          <strong class="text-yellow-400">JSON</strong>, e então salva os dados em uma tabela no banco de dados 
          <strong class="text-pink-400">SQLite</strong>, garantindo que as informações fiquem armazenadas de forma 
          segura e organizada para que possam ser exibidas neste servidor WEB no qual pode-se consultar pela internet normalmente.
        </p>
        <p class="text-solar-yellow font-medium">
          Assim mostrando a quantidade de pessoas que passam diariamente em um local específico no qual o ESP32 está localizado.
        </p>
      </div>
    </div>
  </div>
</div>
{% endblock %}